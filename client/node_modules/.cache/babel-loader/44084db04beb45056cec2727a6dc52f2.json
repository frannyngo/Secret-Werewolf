{"ast":null,"code":"var _jsxFileName = \"/Users/francistan/Desktop/secretwerewolf/client/src/components/Multiplayer.js\",\n    _s = $RefreshSig$();\n\nimport { Redirect, useLocation } from \"react-router-dom\";\nimport { io } from 'socket.io-client';\nimport { useState, useEffect } from \"react\";\nimport ReactScrollableFeed from 'react-scrollable-feed';\nimport MultiWitch from './img/multiWitch.png';\nimport MultiElmininatedWitch from './img/mutliEliminatedWitch.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet socket = null;\n\nconst Multiplayer = ({\n  token\n}) => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [roomName, setRoomName] = useState('');\n  const [message, setMessage] = useState();\n  const [messages, setMessages] = useState([]);\n  const ENDPOINT = 'http://localhost:5000';\n  const [messagesActived, setMA] = useState(false);\n  const location = useLocation();\n  const [usersName, setUsersName] = useState([]);\n  const [start, setStart] = useState(false); // game stuff below \n\n  const [werewolf, setWerewolf] = useState();\n  const [witch, setWitch] = useState();\n  const [votes, setVotes] = useState();\n\n  const sendMessage = e => {\n    e.preventDefault();\n\n    if (message) {\n      socket.emit('sendMessage', message, token);\n      setMessage('');\n    }\n\n    ;\n  };\n\n  const Start = e => {\n    e.preventDefault();\n    setStart(true); //-----------------------------ASSIGNING ROLES-------------------------------------->\n    // const randomWitch = usersName[Math.floor((Math.random() * usersName.length))];\n    // setWitch(randomWitch);\n    // const noWitch = username.filter((user) => {\n    //     return !user === witch\n    // });\n    // const randomWerewolf = noWitch[Math.floor((Math.random() * noWitch.length))];\n    // setWitch(randomWerewolf);\n    //---------------------------------------------------------------------------------->\n  };\n\n  useEffect(() => {\n    if (!location.username || !location.name || !token) return;\n    setUsername(location.username);\n    setRoomName(location.name); // setURL(search);\n\n    socket = io(ENDPOINT, {\n      transports: ['websocket'],\n      upgrade: false\n    });\n    socket.emit('join', {\n      username: location.username,\n      roomName: location.name,\n      token\n    }, () => {});\n    return () => {\n      if (!socket) return;\n      socket.disconnect();\n      socket.off();\n    };\n  }, [location]);\n  useEffect(() => {\n    if (!socket) return;\n    socket.on('message', data => {\n      setMessages(m => [...m, data]);\n    });\n    setMA(true);\n    socket.on('roomData', ({\n      room,\n      data\n    }) => {\n      console.log(data);\n      data.forEach(u => {\n        console.log('INSIDE LOOP ', u.username);\n        setUsersName(un => [...un, u.username]);\n      });\n    });\n  }, []);\n\n  if (!location.name) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/room\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"outerContainer\",\n    children: [!usersName ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loadding....\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leaderboardzz\",\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Users:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }, this), usersName.map((username, key) => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"listusers\",\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 33\n          }, this)\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 29\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"multiContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"infoBar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftInnerContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: roomName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ReactScrollableFeed, {\n        children: messages.map((message, i) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"messageContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"sentText\",\n              children: message.user\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"messageBox\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"messageText\",\n                children: message.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 33\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"formz\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputz\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          onKeyPress: e => e.key === 'Enter' ? sendMessage(e) : null,\n          placeholder: 'What would you like to say?'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sendButton\",\n          onClick: e => {\n            sendMessage(e);\n          },\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), usersName.length <= 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"multiplayerCard\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Waiting for more players....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"multiplayerCard\",\n      children: !start ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-background-circle\",\n        onClick: Start,\n        children: \"Ready\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"multibtns\",\n          height: \"10px\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"trishaT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 33\n          }, this), \"\\u2003\\u2003\", /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Aguilar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 33\n          }, this), \"\\u2003\\u2003\", /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"LT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 33\n          }, this), \"\\u2003\\u2003\", /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Julez\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 33\n          }, this), \"\\u2003\\u2003\", /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"DNCA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 33\n          }, this), \"\\u2003\\u2003\", /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"gersh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"multiimage\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: MultiElmininatedWitch,\n            alt: \"single\",\n            width: \"380px;\",\n            height: \"380px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Multiplayer, \"6Bex9W9o4A3PN2bq6E+EOYZe2EU=\", false, function () {\n  return [useLocation];\n});\n\n_c = Multiplayer;\nexport default Multiplayer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Multiplayer\");","map":{"version":3,"sources":["/Users/francistan/Desktop/secretwerewolf/client/src/components/Multiplayer.js"],"names":["Redirect","useLocation","io","useState","useEffect","ReactScrollableFeed","MultiWitch","MultiElmininatedWitch","socket","Multiplayer","token","username","setUsername","roomName","setRoomName","message","setMessage","messages","setMessages","ENDPOINT","messagesActived","setMA","location","usersName","setUsersName","start","setStart","werewolf","setWerewolf","witch","setWitch","votes","setVotes","sendMessage","e","preventDefault","emit","Start","name","transports","upgrade","disconnect","off","on","data","m","room","console","log","forEach","u","un","map","key","i","user","text","target","value","length"],"mappings":"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","sourcesContent":["import { Redirect, useLocation } from \"react-router-dom\";\nimport { io } from 'socket.io-client'\nimport { useState, useEffect } from \"react\";\nimport ReactScrollableFeed from 'react-scrollable-feed';\nimport MultiWitch from './img/multiWitch.png';\nimport MultiElmininatedWitch from './img/mutliEliminatedWitch.png';\n\nlet socket = null;\n\nconst Multiplayer = ({ token }) => {\n    const [ username, setUsername ] = useState('');\n    const [ roomName, setRoomName ] = useState('');\n    const [ message, setMessage ] = useState();\n    const [ messages, setMessages ] = useState([]);\n    const ENDPOINT = 'http://localhost:5000';\n    const [ messagesActived, setMA ] = useState(false);\n    const location = useLocation();\n    const [ usersName, setUsersName ] = useState([]);\n    const [ start, setStart ] = useState(false)\n\n    // game stuff below \n    const [ werewolf, setWerewolf ] = useState();\n    const [ witch, setWitch ] = useState(); \n    const [ votes, setVotes ] = useState();\n\nconst sendMessage = (e) => {\n    e.preventDefault();\n    \n    if (message) {\n        socket.emit('sendMessage', message, token);\n        setMessage('');\n    };\n}\n\nconst Start = (e) => {\n    e.preventDefault();\n    setStart(true)\n    \n    //-----------------------------ASSIGNING ROLES-------------------------------------->\n    \n    // const randomWitch = usersName[Math.floor((Math.random() * usersName.length))];\n    // setWitch(randomWitch);\n\n    // const noWitch = username.filter((user) => {\n    //     return !user === witch\n    // });\n\n    // const randomWerewolf = noWitch[Math.floor((Math.random() * noWitch.length))];\n\n    // setWitch(randomWerewolf);\n\n    //---------------------------------------------------------------------------------->\n\n\n\n    \n}\n\nuseEffect(() => {\n\n    if (!location.username || !location.name || !token) return\n\n    setUsername(location.username);\n    setRoomName(location.name);\n    // setURL(search);\n\n    socket = io(ENDPOINT, {transports: ['websocket'], upgrade: false});\n\n    socket.emit('join', { username: location.username, roomName: location.name, token }, () => {\n    });\n\n    return () => {\n        if (!socket) return;\n        socket.disconnect();\n        socket.off();\n    }\n\n}, [location]);\n\n\nuseEffect(() => {\n\n    if (!socket) return\n    \n    socket.on('message', (data) => {\n        setMessages(m => [...m, data]);\n    });\n    setMA(true);\n\n    socket.on('roomData', ({ room, data }) => {  \n        console.log(data)\n        data.forEach(u => {\n            console.log('INSIDE LOOP ', u.username)\n            setUsersName(un => [...un, u.username])\n        })\n    });\n    \n}, [])\n\n\n    if (!location.name) {\n        return <Redirect to='/room' />\n    }\n\n    if (!token) {\n    return <Redirect to='/' />\n    }\n\n\n    return (\n        <div className='outerContainer'>\n\n                { !usersName?\n                    <p>\n                        Loadding....\n                    </p>\n                :\n                    <div className=\"leaderboardzz\">\n                        <th> \n                            Users:\n                        </th>\n\n                        { usersName.map(( username, key ) => {\n                            return (\n                            <tr key={key} className='listusers'>\n                                <td>\n                                    <p>\n                                        {username}\n                                    </p>\n                                </td>\n                            </tr>\n                        )})\n                        \n                        }\n                    </div>\n                }\n\n            <div className='multiContainer'>\n                <div className='infoBar'>\n                    <div className='leftInnerContainer'>\n                        <h3>\n                            {roomName}\n                        </h3>\n                    </div>\n                </div>\n                    <ReactScrollableFeed>\n                        { \n                        messages.map((message, i) => {\n                        return (    \n                            <div className='messageContainer' key={i}>\n                                <p className='sentText'> \n                                    {message.user}\n                                </p>  \n                                <div className='messageBox'>\n                                    <p className='messageText'>\n                                        {message.text}\n                                    </p>\n                                </div>\n                            </div>\n                                    )\n                                }\n                            ) \n                        }\n                    </ReactScrollableFeed>\n                <form className='formz'>\n                    <input className='inputz'\n                        value={message}\n                        onChange={e => setMessage(e.target.value)}\n                        onKeyPress={e => e.key === 'Enter' ? sendMessage(e) : null}\n                        placeholder={'What would you like to say?'}\n                        >\n                    </input>\n                    <button className='sendButton'\n                        onClick={(e) => { sendMessage(e)}}\n                        >\n                        Send\n                    </button>\n                </form>                \n            </div>\n                \n            {    \n                usersName.length <= 0?\n\n                <div className='multiplayerCard'>\n                    <p>\n                        Waiting for more players....\n                    </p>\n                </div>\n            :\n                <div className='multiplayerCard'>\n                    {\n                       \n                        !start?\n\n                        <button className=\"btn btn-background-circle\" \n                            onClick={Start}\n                            >\n                            Ready\n                        </button>\n                        :\n                        <>\n                            <div className='multibtns' height='10px'>\n                                <button>\n                                    trishaT\n                                </button>\n                                &emsp;&emsp;\n                                <button>\n                                    Aguilar\n                                </button>\n                                &emsp;&emsp;\n                                <button>\n                                    LT\n                                </button>\n                                &emsp;&emsp;\n                                <button>\n                                    Julez\n                                </button>\n                                &emsp;&emsp;\n                                <button>\n                                    DNCA\n                                </button>\n                                &emsp;&emsp;\n                                <button>\n                                    gersh\n                                </button>\n                            </div>\n                            <div className='multiimage'>\n                                <img src={MultiElmininatedWitch} alt='single' width='380px;' height='380px'/>\n                            </div>\n                        </>\n                    }\n                </div>\n            }\n\n        </div>\n    );\n}\n\nexport default Multiplayer;"]},"metadata":{},"sourceType":"module"}